## Описание
Проект YaMDb собирает отзывы пользователей на произведения. Сами произведения в YaMDb не хранятся, здесь нельзя посмотреть фильм или послушать музыку.
Произведения делятся на категории, такие как «Книги», «Фильмы», «Музыка». Например, в категории «Книги» могут быть произведения «Винни-Пух и все-все-все» и «Марсианские хроники», а в категории «Музыка» — песня «Давеча» группы «Жуки» и вторая сюита Баха. Список категорий может быть расширен (например, можно добавить категорию «Изобразительное искусство» или «Ювелирка»). 

Пользователь может оставить один отзыв к каждому произведению, может оставлять комментарии к отзывам.

Документация к API находится по эндпоинту `/redoc`


## Запуск проекта
1. Клонировать репозиторий.

2. Создать виртуальное окружение
```bash
python -m venv venv
```
```bash
source venv/Scripts/activate
```

3. Установить зависимости
```bash
python -m pip install --upgrade pip
```
```bash
pip install -r requirements.txt
```

4. Выполнить миграции
```bash
python manage.py migrate
```

Дополнительно можно заполнить БД тестовыми данными
```bash
python manage.py <command>
```

Запуск проекта
```bash
python manage.py runserver
```

## Описание API


### Сервис предполагает использование ролей для управления доступом:

* **Аноним** — может просматривать описания произведений, читать отзывы и комментарии.
* **Аутентифицированный пользователь (user)** — может, как и Аноним, читать всё, дополнительно он может публиковать отзывы и ставить оценку произведениям (фильмам/книгам/песенкам), может комментировать чужие отзывы; может редактировать и удалять свои отзывы и комментарии. Эта роль присваивается по умолчанию каждому новому пользователю.
* **Модератор (moderator)** — те же права, что и у Аутентифицированного пользователя плюс право удалять любые отзывы и комментарии.
* **Администратор (admin)** — полные права на управление всем контентом проекта. Может создавать и удалять произведения, категории и жанры. Может назначать роли пользователям.
* **Суперюзер Django** — обладет правами администратора (admin)


### Регистрация пользователей

```http
POST /api/v1/auth/signup 
```
```json
{
  "username": "Bob",
  "email": "example@email.com"
}
```

## Получение токена для аутентификации:
#### тип: JWT token (Bearer)

```http
POST /api/v1/auth/token 
```
```json
{
  "username": "Bob",
  "confirmation_code": "<код подтверждения>"
}
```
Ответ:
```json
{
  "token": "<JWT token>"
}
```

### Ресурс users

#### Методы доступные администратору: 

```http
# Список пользователей
GET /api/v1/users/ 
```

```http
# Создание нового пользователя
POST /api/v1/users/ 
```
```json
{
"username": "Bob",
"email": "example@valid.com",
"first_name": "string",
"last_name": "string",
"bio": "string",
"role": "<user|moderator|admin>" 
}
```

```http
# Информация о пользователе
GET /api/v1/users/{username}/
```

```http
# Изменение полей пользователя
PATCH /api/v1/users/{username}/
```
```json
{
  "username": "string",
  "email": "user@example.com",
  "first_name": "string",
  "last_name": "string",
  "bio": "string",
  "role": "user"
}
```
```
# удаление пользователя
DELETE /api/v1/users/{username}/
```

### Методы доступные аутентифицированному пользователю

```http
# Получения своего профиля
GET /api/v1/users/me/
```
```http
# Изменение полей в профиле
PATCH /api/v1/users/me/
```
```json
{
  "username": "string",
  "email": "user@example.com",
  "first_name": "string",
  "last_name": "string",
  "bio": "string"
}
```